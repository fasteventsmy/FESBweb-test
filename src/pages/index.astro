---
import Base from "../layouts/Base.astro";
import getProjects from "../utils/getProjects";
import WorkCarousel from "../components/WorkCarousel.astro";
import MalaysiaCoverage from "../components/MalaysiaCoverage.astro";
import Image from "../components/Image.astro";

// Latest 10 published
const projects = getProjects()
  .filter(p => (p.status ?? "published") !== "draft")
  .slice(0, 10);

const coverage = [
  { state: "Johor", count: 12 },
  { state: "Kedah", count: 8 },
  { state: "Kelantan", count: 5 },
  { state: "Melaka", count: 7 },
  { state: "Negeri Sembilan", count: 6 },
  { state: "Pahang", count: 9 },
  { state: "Perak", count: 10 },
  { state: "Perlis", count: 3 },
  { state: "Pulau Pinang", count: 11 },
  { state: "Sabah", count: 15 },
  { state: "Sarawak", count: 14 },
  { state: "Selangor", count: 22 },
  { state: "Terengganu", count: 4 },
  { state: "W.P. Kuala Lumpur", count: 25 },
  { state: "W.P. Putrajaya", count: 2 },
  { state: "W.P. Labuan", count: 1 },
];
---

<Base title="Fast Events — High-impact experiences, built fast.">
  <style>
    :root { scroll-behavior: smooth; }

    .hero {
      position: relative;
      background: url("https://i.imgur.com/TN7ddHX.png") center/cover no-repeat;
      min-height: 72vh;
      display: grid;
      place-items: center;
      text-align: center;
      color: var(--text);
    }
    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(10,10,10,.45), rgba(10,10,10,.45));
      pointer-events: none;
    }
    .hero-inner {
      position: relative;
      z-index: 1;
      max-width: 960px;
      padding: 2rem;
      display: grid;
      gap: 1rem;
      justify-items: center;
    }
    .hero-logo {
      width: 140px;
      height: auto;
      filter: drop-shadow(0 6px 16px rgba(0,0,0,.25));
    }
    .kicker { opacity:.9; font-size:.95rem; max-width: 62ch; }
    .hero-actions { margin-top: .5rem; display:flex; gap:.75rem; justify-content:center; flex-wrap:wrap; }

    .wrap { max-width: 1100px; margin-inline: auto; padding: 4rem 1rem; }
    .section-title { font-weight: var(--font-heading-weight); font-size: clamp(1.5rem, 1.1rem + 1.8vw, 2.25rem); margin-bottom: .75rem; }
    .section-lead { color: var(--muted); max-width: 70ch; }

    .grid-2 { display:grid; grid-template-columns: 1fr; gap:1.25rem; }
    @media (min-width: 900px) { .grid-2 { grid-template-columns: 1.1fr .9fr; } }

    .about-card { background: var(--muted); color: var(--brand); border-radius: 16px; padding: 1.25rem; border: 1px solid rgba(10,10,10,.08); }
    .chip-row { display:flex; flex-wrap:wrap; gap:.5rem; margin-top: .75rem; }
    .chip { padding:.25rem .6rem; font-size:.8rem; border-radius:999px; border:1px solid rgba(10,10,10,.1); }

    .section-anchor { scroll-margin-top: 84px; }

    .cta { text-align:center; padding:4rem 1rem 5rem; background: var(--muted); color: var(--brand); border-top: 1px solid rgba(10,10,10,.08); }
    .cta .section-lead { margin: 0 auto 1rem; color: rgba(10,10,10,.72); }

    .see-more { margin-top: 1.5rem; display:flex; justify-content:flex-end; }
  </style>

  <!-- HERO -->
  <header class="hero">
    <div class="hero-inner">
      <Image src="/assets/fast-logo-black.svg" alt="Fast Events" class="hero-logo" width="140" height="40" />
      <h1 class="section-title" style="color:var(--text);">High-impact experiences, built fast.</h1>
      <p class="kicker">We design, build, and run events that move people — from launches to roadshows to immersive brand worlds.</p>
      <div class="hero-actions">
        <a href="#work" class="btn btn-primary">See our work</a>
        <a href="#services" class="btn btn-ghost">What we do</a>
      </div>
    </div>
  </header>

  <!-- ABOUT -->
  <section id="about" class="wrap section-anchor">
    <div class="grid-2">
      <div>
        <h2 class="section-title">About us</h2>
        <p class="section-lead">Fast Events is an experience partner that makes ideas real—quickly. We combine creative, technical, and operations into a single agile team so clients get crisp proposals, decisive execution, and repeatable quality.</p>
        <div style="margin-top:1rem; display:flex; gap:.75rem; flex-wrap:wrap;">
          <a href="/about" class="btn btn-primary">See more</a>
          <a href="#services" class="btn btn-ghost">What we do</a>
          <a href="#work" class="btn btn-ghost">Our work</a>
        </div>
      </div>
      <div class="about-card">
        <strong>Core strengths</strong>
        <div class="chip-row">
          <span class="chip">End-to-end delivery</span>
          <span class="chip">Experience design</span>
          <span class="chip">On-site ops</span>
          <span class="chip">Fabrication</span>
          <span class="chip">AV & lighting</span>
        </div>
      </div>
    </div>
  </section>

  <!-- SERVICES -->
  <section id="services" class="wrap section-anchor">
    <h2 class="section-title">Our Services</h2>
    <p class="section-lead">A quick look at what we do. See the full list on the services page.</p>
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin-top:1rem;">
      <div class="about-card"><strong>Event Strategy</strong><p class="kicker" style="color:rgba(10,10,10,.72)">Objectives, run-of-show, KPI</p></div>
      <div class="about-card"><strong>Creative & Content</strong><p class="kicker" style="color:rgba(10,10,10,.72)">Theme, key visuals, motion</p></div>
      <div class="about-card"><strong>Production</strong><p class="kicker" style="color:rgba(10,10,10,.72)">Stage, lighting, sound, LED</p></div>
      <div class="about-card"><strong>Fabrication</strong><p class="kicker" style="color:rgba(10,10,10,.72)">Booths, sets, brand install</p></div>
      <div class="about-card"><strong>On-site Ops</strong><p class="kicker" style="color:rgba(10,10,10,.72)">Crew, showcalling, vendors</p></div>
    </div>
    <div style="margin-top:1rem;">
      <a class="btn btn-primary" href="/services">More details</a>
    </div>
  </section>

  <!-- WORK -->
  <section id="work" class="wrap section-anchor">
    <h2 class="section-title">Our Work</h2>
    <WorkCarousel items={projects} />
    <div class="see-more">
      <a href="/work" class="btn btn-ghost">See all work</a>
    </div>
  </section>

  <!-- COVERAGE -->
  <section id="coverage" class="wrap section-anchor">
    <h2 class="section-title">Area of Coverage</h2>
    <p class="section-lead">We operate across Malaysia — explore our footprint.</p>
    <MalaysiaCoverage data={coverage} />
  </section>

  <!-- CTA -->
  <section class="cta">
    <h2 class="section-title">Have a brief? Let's talk.</h2>
    <p class="section-lead">Need a quick estimate or a proposal? We'll get back fast.</p>
    <a class="btn btn-primary" href="/contact">Contact</a>
  </section>
</Base>
