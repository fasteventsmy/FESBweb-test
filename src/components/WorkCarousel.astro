---
const { items = [] } = Astro.props;
const projects = (items ?? []).slice(0, 10);
import Image from "./Image.astro";
---
<div class="carousel">
  <button class="arrow left" aria-label="Previous" onclick="this.nextElementSibling.scrollBy({left:-320, behavior:'smooth'})">‹</button>
  <div class="track" tabindex="0">
    {projects.map((p) => (
      <a href={`/projects/${p.slug}`} class="slide">
        <div class="thumb">
          <Image src={p.cover} alt={p.title} width="320" height="180" />
        </div>
        <div class="meta">{p.title}</div>
      </a>
    ))}
  </div>
  <button class="arrow right" aria-label="Next" onclick="this.previousElementSibling.scrollBy({left:320, behavior:'smooth'})">›</button>
</div>

<style>
.carousel { position:relative; display:flex; align-items:center; gap:.5rem; }
.arrow { background:var(--brand); color:var(--muted); border:none; width:36px; height:36px; border-radius:50%; cursor:pointer; }
.arrow:hover { filter:brightness(1.12); }
.track {
  display:flex; overflow-x:auto; scroll-snap-type:x mandatory; gap:1rem; padding: .25rem;
}
.slide { flex:0 0 320px; scroll-snap-align:center; text-decoration:none; color:inherit; }
.thumb img { width:100%; height:auto; display:block; border-radius:12px; }
.meta { margin-top:.4rem; font-weight:600; }
</style>
