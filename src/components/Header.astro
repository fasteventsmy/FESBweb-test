---
const links = [
  { href: "/", text: "Home" },
  { href: "/about", text: "About" },
  { href: "/services", text: "Services" },
  { href: "/work", text: "Work" },
  { href: "/contact", text: "Contact" },
];

const normalizePath = (path: string) => {
  const stripped = path.replace(/\/+$/, "");
  return stripped === "" ? "/" : stripped;
};

const currentPath = normalizePath(Astro.url.pathname);
---
<header class="navbar" style="position:sticky; top:0; z-index:50;">
  <nav style="max-width:1100px;margin:0 auto;display:flex;align-items:center;gap:1rem;padding:.6rem 1rem;">
    <a href="/" style="display:flex;align-items:center;gap:.5rem">
      <img src="/assets/fast-logo-black.svg" alt="Fast Events" class="logo" />
    </a>
    <div style="margin-left:auto;display:flex;gap:.3rem;align-items:center;flex-wrap:wrap;">
      {links.map(l => (
        <a
          href={l.href}
          class:list={["navbar-link", { "is-active": normalizePath(l.href) === currentPath }]}
        >
          {l.text}
        </a>
      ))}
    </div>
  </nav>
</header>
